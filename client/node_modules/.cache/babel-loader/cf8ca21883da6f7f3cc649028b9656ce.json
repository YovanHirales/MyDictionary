{"ast":null,"code":"import _asyncToGenerator from\"/Users/yovanhirales/Desktop/Projects/MyDictionary/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/yovanhirales/Desktop/Projects/MyDictionary/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/yovanhirales/Desktop/Projects/MyDictionary/client/node_modules/@babel/runtime/regenerator/index.js\";import React,{Fragment,useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditDef=function EditDef(props){var entry=props.entry;var _useState=useState(entry.definition),_useState2=_slicedToArray(_useState,2),def=_useState2[0],setDef=_useState2[1];var update=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var saveData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;entry.definition=def;_context.next=4;return fetch(\"/words/\".concat(entry.word_id),{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(entry)});case 4:saveData=_context.sent;props.getWords();_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(_context.t0.message);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function update(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",\"data-toggle\":\"modal\",\"data-target\":\"#myModal\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal\",id:\"myModal\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"modal-title\",children:\"Edit definition\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"close\",\"data-dismiss\":\"modal\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"FormControlTextarea1\",children:[entry.word,\":\"]}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",id:\"FormControlTextarea1\",rows:\"3\",value:def,onChange:function onChange(e){return setDef(e.target.value);}})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-success\",\"data-dismiss\":\"modal\",onClick:update,children:\"Save Changes\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger\",\"data-dismiss\":\"modal\",children:\"Close\"})]})]})})})]});};export default EditDef;","map":{"version":3,"sources":["/Users/yovanhirales/Desktop/Projects/MyDictionary/client/src/components/EditDef.js"],"names":["React","Fragment","useState","useEffect","EditDef","props","entry","definition","def","setDef","update","fetch","word_id","method","headers","body","JSON","stringify","saveData","getWords","console","error","message","word","e","target","value"],"mappings":"6aAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,QAA1B,CAAoCC,SAApC,KAAqD,OAArD,C,wFAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAW,CAC1B,GAAMC,CAAAA,KAAK,CAAGD,KAAK,CAACC,KAApB,CACA,cAAsBJ,QAAQ,CAACI,KAAK,CAACC,UAAP,CAA9B,wCAAOC,GAAP,eAAYC,MAAZ,eAEA,GAAMC,CAAAA,MAAM,0FAAG,gKAEbJ,KAAK,CAACC,UAAN,CAAmBC,GAAnB,CAFa,sBAIUG,CAAAA,KAAK,kBAAWL,KAAK,CAACM,OAAjB,EAA4B,CACvDC,MAAM,CAAE,KAD+C,CAEvDC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAF8C,CAGvDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeX,KAAf,CAHiD,CAA5B,CAJf,QAIPY,QAJO,eAUbb,KAAK,CAACc,QAAN,GAVa,+EAYbC,OAAO,CAACC,KAAR,CAAc,YAAIC,OAAlB,EAZa,oEAAH,kBAANZ,CAAAA,MAAM,0CAAZ,CAgBA,mBACC,MAAC,QAAD,yBACC,eACC,IAAI,CAAC,QADN,CAEC,SAAS,CAAC,iBAFX,CAGC,cAAY,OAHb,CAIC,cAAY,UAJb,kBADD,cAUC,YAAK,SAAS,CAAC,OAAf,CAAuB,EAAE,CAAC,SAA1B,uBACC,YAAK,SAAS,CAAC,cAAf,uBACC,aAAK,SAAS,CAAC,eAAf,wBACC,aAAK,SAAS,CAAC,cAAf,wBACC,WAAI,SAAS,CAAC,aAAd,6BADD,cAEC,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,OAAhC,CAAwC,eAAa,OAArD,kBAFD,GADD,cAQC,YAAK,SAAS,CAAC,YAAf,uBACC,mCACC,aAAK,SAAS,CAAC,YAAf,wBACC,eAAO,OAAO,CAAC,sBAAf,WAAuCJ,KAAK,CAACiB,IAA7C,OADD,cAEC,iBACC,SAAS,CAAC,cADX,CAEC,EAAE,CAAC,sBAFJ,CAGC,IAAI,CAAC,GAHN,CAIC,KAAK,CAAEf,GAJR,CAKC,QAAQ,CAAE,kBAACgB,CAAD,QAAOf,CAAAA,MAAM,CAACe,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,EALX,EAFD,GADD,EADD,EARD,cAuBC,aAAK,SAAS,CAAC,cAAf,wBACC,eACC,IAAI,CAAC,QADN,CAEC,SAAS,CAAC,iBAFX,CAGC,eAAa,OAHd,CAIC,OAAO,CAAEhB,MAJV,0BADD,cASC,eACC,IAAI,CAAC,QADN,CAEC,SAAS,CAAC,gBAFX,CAGC,eAAa,OAHd,mBATD,GAvBD,GADD,EADD,EAVD,GADD,CA0DA,CA9ED,CAgFA,cAAeN,CAAAA,OAAf","sourcesContent":["import React, { Fragment, useState, useEffect } from 'react';\n\nconst EditDef = (props) => {\n\tconst entry = props.entry;\n\tconst [def, setDef] = useState(entry.definition);\n\n\tconst update = async () => {\n\t\ttry {\n\t\t\tentry.definition = def;\n\n\t\t\tconst saveData = await fetch(`/words/${entry.word_id}`, {\n\t\t\t\tmethod: 'PUT',\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\tbody: JSON.stringify(entry),\n\t\t\t});\n\n\t\t\tprops.getWords();\n\t\t} catch (err) {\n\t\t\tconsole.error(err.message);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<button\n\t\t\t\ttype='button'\n\t\t\t\tclassName='btn btn-primary'\n\t\t\t\tdata-toggle='modal'\n\t\t\t\tdata-target='#myModal'\n\t\t\t>\n\t\t\t\tEdit\n\t\t\t</button>\n\n\t\t\t<div className='modal' id='myModal'>\n\t\t\t\t<div className='modal-dialog'>\n\t\t\t\t\t<div className='modal-content'>\n\t\t\t\t\t\t<div className='modal-header'>\n\t\t\t\t\t\t\t<h4 className='modal-title'>Edit definition</h4>\n\t\t\t\t\t\t\t<button type='button' className='close' data-dismiss='modal'>\n\t\t\t\t\t\t\t\t&times;\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className='modal-body'>\n\t\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t\t<label htmlFor='FormControlTextarea1'>{entry.word}:</label>\n\t\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\t\tid='FormControlTextarea1'\n\t\t\t\t\t\t\t\t\t\trows='3'\n\t\t\t\t\t\t\t\t\t\tvalue={def}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setDef(e.target.value)}\n\t\t\t\t\t\t\t\t\t></textarea>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className='modal-footer'>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\tclassName='btn btn-success'\n\t\t\t\t\t\t\t\tdata-dismiss='modal'\n\t\t\t\t\t\t\t\tonClick={update}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tSave Changes\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\tclassName='btn btn-danger'\n\t\t\t\t\t\t\t\tdata-dismiss='modal'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Fragment>\n\t);\n};\n\nexport default EditDef;\n"]},"metadata":{},"sourceType":"module"}